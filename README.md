#### Лабораторная 4

- **Цель работы**: Разработка базового SPA на React
- **Порядок показа**: показать две страницы фронтенда в браузере из `localhost` с бэкендом, а в `GitHub Pages` с mock на телефоне, применить фильтрацию услуг. Внести изменения в БД, показать их во фронтенде. Объяснить код компонентов для фильтрации, передаваемые props, хуки, вызовы fetch.
- **Контрольные вопросы**: react, props, компонент, элемент, состояние, хуки, жизненный цикл компонента
- **Deployment диаграмма** все узлы и компоненты системы: фронтенда, web-сервера со статикой, веб-сервиса, базы данных и других хранилищ и тд. Узлы соединить протоколами, компоненты фронтенда и бэкенда поместить в узлах, указать API между ними.
- **Задание**: Разработать две страницы фронтенд приложения на `React`, `TS` и подключить его к веб-сервису. Подготовить ТЗ на итоговую систему. 

Разработать базовый интерфейс приложения на `React` для `гостя`, аналогичный двум страницам из лабораторной работы №1 для просмотра `услуг`. При этом на странице списка `услуг` должны быть все необходимые фильтры (по диапазону дат, названию, цене) с фильтрацией на бэкенде. Использовать компоненты `React-Bootstrap`. Для карточек предусмотреть изображение по-умолчанию, если поле в `услуге` пустое. Необходимо развернуть фронтенд на `GitHub Pages`.

В приложении должны быть навигационная панель `navbar` для списка базовых страниц, а также самописная навигационная цепочка `breadcrumbs`, где отображается путь от базовой страницы к текущей. В этой лабораторной никакого `Redux`, а `Context` вообще в курсе использовать нельзя.

Содержимое карточек получать из веб-сервиса лабораторной №3. Ajax-запросы написать самостоятельно через `fetch`. Ограничение с `CORS` решить через проксирование `React`. В методах `fetch` предусмотреть получение данных из коллекции с `mock`-объектами при отсутствии доступа к вашему бэкенду.

* [Методические указания](/tutorials/lab4/lab4_tutorial.md)

**ТЗ** на итоговую систему (сплошная нумерация):
1. **цель**
2. **назначение** - краткое описание для чего, кто работает в системе
3. **задачи**
4. **методы веб-сервиса** таблицей с группировкой по доменам: метод, url, описание, входные, выходные данные
5. **Функциональные требования** - список окон и какие действия для каких групп пользователей доступны. Указать, какие методы бэкенда при этом вызываются. 8 страниц: 

* гость: регистрация, аутентификация, список услуг, одна услуга

* создатель заявки: конструктор заявки, список заявок

* модератор: список услуг таблицей, редактирование/создание услуги

6. **требования к аппаратному** обеспечению для сервера и клиента
7. **требования к программному** обеспечению с версиями для серверных компонентов и для клиента

#### Лабораторная 6

- **Цель работы**: Завершение интерфейса `пользователя` в `React`
- **Порядок показа**: показать авторизацию, добавление и формирование `заявки`. Пояснить в коде использование `redux` и `axios`. Показать авторизацию в браузере, использовать содержимое `localStorage`/`cookie` чтобы показать заявки пользователя в `insomnia`/`postman`.
- **Контрольные вопросы**: схема redux, reducer, store, контекст, axios
- **Диаграмма классов** с детализацией бэкенда и фронтенда: добавить методы авторизации, фронтенд разделить на страницы, добавить у страниц зависимость от API.
- **Activity диаграмма/BPMN** для итогового бизнес-процесса для ДЗ: описание бизнес-процесса, разделение на дорожки по ролям двух пользователей и выделенного сервиса, действия соответствуют операциям пользователей в вашей системе.
- **Задание**: Добавить авторизацию и возможность оформления `заявок` во фронтенд через `Redux Toolkit`

Добавить страницы для регистрации и авторизации. Добавить окно для просмотра списка `заявок` пользователя в виде таблицы. Добавить в меню пункты для новых страниц. Для обращений к методам веб-сервиса использовать `axios`. При выполнении запросов отображать на странице анимацию.

Добавление менеджера состояний `Redux Toolkit` для хранения фильтров заявок и услуг, а также состояния интерфейса после авторизации. В приложении должно быть реализовано переключение между интерфейсом гостя и интерфейсом пользователя по кнопке `Вход`/`Выход`. После авторизации в меню должно отображаться Имя/Логин пользователя. При выходе должно сбрасываться содержимое конструктора новой заявки.

Добавление на странице услуг кнопки `Добавить` для внесения данной услуги в новую заявку. Добавление страницы `конструктора` заявки-черновика, где можно удалить уже добавленные в заявку услуги, поменять их количество или `подтвердить` заявку. Эта же страница используется для просмотра заявок в других статусах, но без возможности редактирования. Переход на страницу `конструктора` через специальную кнопку, которая меняет состояние, если заявка-черновик есть или ее нет. 

* [Методические указания Redux Toolkit + fetch](/tutorials/redux/redux_toolkit.md)
* [Методические указания Redux Toolkit + кодогенерация и Axios](/tutorials/lab6/lab6_tutorial.md)

#### Домашнее Задание

- **Цель работы**: Закрепление полученный знаний
- **Порядок показа**: создать заявку в интерфейсе `пользователя`. Авторизоваться под `модератором`, одобрить `заявку` и отредактировать список `услуг`.
- **Отчет**: отчет необходимо отправить на почту [aikanev@bmstu.ru](). Оценивается раскрытие предметной области в описании и приложении, корректность оформления отчета.
- **Контрольные вопросы**: любые вопросы по реализации интерфейса `модератора`
- **Диаграммы**: диаграмма состояний для статусов `заявок` и диаграмма прецедентов. Актуализировать все диаграммы из лабораторных, все диаграммы должны соответствовать реализованной вами системе. Все диаграммы должны быть читаемые, шрифт на них должен не отличаться по размеру от шрифта текста отчета.
- **Задание**: Реализовать интерфейс `модератора` и подготовить итоговый отчет

Необходимо добавить в приложение React интерфейс `модератора`, доступный после его авторизации и имеющий следующие отличия:
- Новое окно редактирования `услуг`, список услуг отображается таблицей. Доступно добавление новых услуг (обязательные и необязательные поля), редактирование, удаление.
- В окне списка `заявок` доступны кнопки для смены статуса заявок. Также есть поля фильтрации по диапазону `даты формирования` и статусу заявок (через бэкенд) и пользователю (на фронтенде).
- Окно списка `заявок` переделать на `short polling` чтобы отображать актуальные статусы

**Отчет-РПЗ** по всем лабораторным и ДЗ:
1. **Введение** (актуальность, цель, назначение, нефункциональные требования, задачи)
2. **Бизнес-процесс**. Описание предметной области. Диаграмма прецедентов, диаграмма состояний и деятельности/BPMN (>300 слов)
3. **Архитектура**. Диаграммы развертывания, ER с назначением таблиц и диаграмма классов с детализацией бэкенда и фронтенда (>300 слов)
4. **Алгоритмы**. Диаграмма последовательности HTTP запросов (>300 слов)
5. **Описание интерфейса**. Перечень окон, их назначение и выполняемые пользователями действия (>300 слов)
6. **Заключение**. Перечень выполненных задач и достигнутые результаты. Ссылка на GitHub
7. **Список использованных источников**  
8. **Приложение. Техническое задание**
